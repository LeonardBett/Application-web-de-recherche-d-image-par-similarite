import{d as S,r as o,i as V,j as w,c as n,h as _,a as t,u as g,w as I,v as y,F as m,b as p,t as k,o as a,_ as x}from"./index-L29UmdU-.js";import{G as B}from"./Engine-CWbUsSrV.js";import{a as C}from"./http-api-C67Pb7Kz.js";const G={key:0},U=["value"],$=["src"],b=["value"],A=["src"],D={key:0},F=["src","alt"],M=S({__name:"ImageQuest",setup(N){let u=o(null);const r=o(0),d=o(1),v=o([]);let i=o([]),f=o(!0);V(()=>{E(),h()}),w(()=>{u.value!=null&&u.value.game.destroy(!0)});function E(){C.getImageList().then(s=>{v.value=s}).catch(s=>{console.log(s.message)})}function h(){C.getSimilarImages(d.value).then(s=>{i.value=s,console.log(i.value);const l=o([]);let e=0;i.value.forEach(function(c){e<3&&c.id!=r.value&&c.id!=d.value&&(l.value.push(c),e++)}),i.value=l.value}).catch(s=>{console.log(s.message)})}function L(){u.value!=null&&u.value.game.destroy(!0),f.value=!1,u.value=new B("gameId",r),u.value.initialise()}return(s,l)=>(a(),n(m,null,[g(f)?(a(),n("div",G,[t("div",null,[t("button",{onClick:L},"Start game !")]),t("div",null,[l[2]||(l[2]=t("h1",null,"Choose an hero",-1)),t("div",null,[I(t("select",{"onUpdate:modelValue":l[0]||(l[0]=e=>r.value=e)},[(a(!0),n(m,null,p(v.value,e=>(a(),n("option",{value:e.id,key:e.id},k(e.name),9,U))),128))],512),[[y,r.value]])]),t("img",{src:`/images/${r.value}`},null,8,$),l[3]||(l[3]=t("h1",null,"Choose an ennemi",-1)),t("div",null,[I(t("select",{"onUpdate:modelValue":l[1]||(l[1]=e=>d.value=e),onChange:h},[(a(!0),n(m,null,p(v.value,e=>(a(),n("option",{value:e.id,key:e.id},k(e.name),9,b))),128))],544),[[y,d.value]])]),t("img",{src:`/images/${d.value}`},null,8,A)]),t("div",null,[l[4]||(l[4]=t("h1",null,"And there is his team",-1)),g(i).length>0?(a(),n("div",D,[t("div",null,[(a(!0),n(m,null,p(g(i),e=>(a(),n("img",{key:e.id,src:`http://localhost:8080/images/${e.id}`,alt:e.name},null,8,F))),128))])])):_("",!0)])])):_("",!0),l[5]||(l[5]=t("div",{id:"gameId"},null,-1))],64))}}),q=x(M,[["__scopeId","data-v-86d7c523"]]);export{q as default};
