import{a as c}from"./http-api-DGFSZnvK.js";import{_ as g}from"./Image.vue_vue_type_script_setup_true_lang-jPr1MFzw.js";import{d as h,r as m,g as I,l as _,j as y,c as i,a as l,h as k,i as v,t as u,F as L,b as w,o as n}from"./index-AuDgD0ah.js";const S={key:0},x={key:1},B={key:2},E={class:"similar-images-container"},C=h({__name:"QuizzImage",setup(M){const r=m([]),t=m(null),s=m([]),f=async()=>{try{if(r.value=await c.getImageList(),r.value.length>0){const e=Math.floor(Math.random()*r.value.length);t.value=r.value[e].id}}catch(e){console.error("Error fetching image list:",e)}},p=async e=>{try{s.value=await c.getSimilarImages(e),s.value=s.value.slice(0,3)}catch(a){console.error("Error fetching similar images:",a),s.value=[]}};I(t,async e=>{e!==null?await p(e):s.value=[]});const d=_(()=>s.value.filter(e=>e.id!==t.value));return y(f),(e,a)=>(n(),i("div",null,[a[2]||(a[2]=l("h3",null,"Random Image",-1)),t.value!==null?(n(),i("div",S,[l("p",null,"Image ID: "+u(t.value),1),v(g,{id:t.value},null,8,["id"])])):(n(),i("div",x,a[0]||(a[0]=[l("p",null,"Loading image...",-1)]))),d.value.length>0?(n(),i("div",B,[a[1]||(a[1]=l("h4",null,"Similar Images",-1)),l("div",E,[(n(!0),i(L,null,w(d.value,o=>(n(),i("div",{key:o.id,class:"similar-image"},[v(g,{id:o.id},null,8,["id"]),l("p",null,u(o.id),1),l("p",null,u(o.name),1)]))),128))])])):k("",!0)]))}});export{C as default};
