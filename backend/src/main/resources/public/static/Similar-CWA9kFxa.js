import{d as p,r as o,g as f,c as s,a as r,h as m,w as y,v as _,F as c,b as d,t as I,o as i}from"./index-BwROec0E.js";import{a as v}from"./http-api-XlQ5B82Y.js";const S=["value"],k={key:0},w=["src"],L={key:1},B=["src","alt"],x=p({__name:"Similar",setup(C){const n=o(null),u=o([]),a=o([]),g=async()=>{try{u.value=await v.getImageList()}catch(l){console.error("Error fetching image list:",l)}},h=async l=>{try{a.value=await v.getSimilarImages(l),a.value=a.value.filter(e=>e.id!==l)}catch(e){console.error("Error fetching similar images:",e),a.value=[]}};return f(n,async l=>{l!==null?await h(l):a.value=[]}),g(),(l,e)=>(i(),s("div",null,[e[3]||(e[3]=r("h3",null,"Choose an image",-1)),r("div",null,[y(r("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>n.value=t)},[(i(!0),s(c,null,d(u.value,t=>(i(),s("option",{value:t.id,key:t.id},I(t.name),9,S))),128))],512),[[_,n.value]])]),n.value!==null?(i(),s("div",k,[e[1]||(e[1]=r("h4",null,"Selected Image",-1)),r("img",{src:`http://localhost:8080/images/${n.value}`},null,8,w)])):m("",!0),a.value.length>0?(i(),s("div",L,[e[2]||(e[2]=r("h4",null,"Similar Images",-1)),r("div",null,[(i(!0),s(c,null,d(a.value,t=>(i(),s("img",{key:t.id,src:`http://localhost:8080/images/${t.id}`,alt:t.name},null,8,B))),128))])])):m("",!0)]))}});export{x as default};
