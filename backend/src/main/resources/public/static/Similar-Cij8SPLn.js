import{d as f,r,g as y,c as s,a as i,h as m,w as _,v as I,F as v,b as d,t as S,o as n}from"./index-CSQb1BgY.js";import{a as g}from"./http-api-XlQ5B82Y.js";const k=["value"],w={key:0},E=["src"],L={key:1},B=["src","alt"],D=f({__name:"Similar",setup(C){const o=r(null),u=r([]),l=r([]),h=async()=>{try{u.value=await g.getImageList()}catch(a){console.error("Error fetching image list:",a)}},p=async a=>{try{l.value=await g.getSimilarImages(a);const e=r([]);let t=0;l.value.forEach(function(c){c.id!=o.value&&(e.value.push(c),t++)}),l.value=e.value}catch(e){console.error("Error fetching similar images:",e),l.value=[]}};return y(o,async a=>{a!==null?await p(a):l.value=[]}),h(),(a,e)=>(n(),s("div",null,[e[3]||(e[3]=i("h3",null,"Choose an image",-1)),i("div",null,[_(i("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t)},[(n(!0),s(v,null,d(u.value,t=>(n(),s("option",{value:t.id,key:t.id},S(t.name),9,k))),128))],512),[[I,o.value]])]),o.value!==null?(n(),s("div",w,[e[1]||(e[1]=i("h4",null,"Selected Image",-1)),i("img",{src:`http://localhost:8080/images/${o.value}`},null,8,E)])):m("",!0),l.value.length>0?(n(),s("div",L,[e[2]||(e[2]=i("h4",null,"Similar Images",-1)),i("div",null,[(n(!0),s(v,null,d(l.value,t=>(n(),s("img",{key:t.id,src:`http://localhost:8080/images/${t.id}`,alt:t.name},null,8,B))),128))])])):m("",!0)]))}});export{D as default};
