import{d as p,r as o,g as f,c as l,a as s,h as m,w as _,v as y,F as c,b as d,t as I,o as r}from"./index-pZt1WDjf.js";import{a as v}from"./http-api-XlQ5B82Y.js";import{_ as S}from"./Result.vue_vue_type_style_index_0_lang-B2FMlu8R.js";const k=["value"],w={key:0},L=["src"],B={key:1},C=["src","alt"],D=p({__name:"Similar",setup(E){const n=o(null),u=o([]),i=o([]),g=async()=>{try{u.value=await v.getImageList()}catch(a){console.error("Error fetching image list:",a)}},h=async a=>{try{i.value=await v.getSimilarImages(a),i.value=S.filter(e=>e.id!==a)}catch(e){console.error("Error fetching similar images:",e),i.value=[]}};return f(n,async a=>{a!==null?await h(a):i.value=[]}),g(),(a,e)=>(r(),l("div",null,[e[3]||(e[3]=s("h3",null,"Choose an image",-1)),s("div",null,[_(s("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>n.value=t)},[(r(!0),l(c,null,d(u.value,t=>(r(),l("option",{value:t.id,key:t.id},I(t.name),9,k))),128))],512),[[y,n.value]])]),n.value!==null?(r(),l("div",w,[e[1]||(e[1]=s("h4",null,"Selected Image",-1)),s("img",{src:`http://localhost:8080/images/${n.value}`},null,8,L)])):m("",!0),i.value.length>0?(r(),l("div",B,[e[2]||(e[2]=s("h4",null,"Similar Images",-1)),s("div",null,[(r(!0),l(c,null,d(i.value,t=>(r(),l("img",{key:t.id,src:`http://localhost:8080/images/${t.id}`,alt:t.name},null,8,C))),128))])])):m("",!0)]))}});export{D as default};
