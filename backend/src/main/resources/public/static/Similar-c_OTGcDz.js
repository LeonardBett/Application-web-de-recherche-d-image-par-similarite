import{d as y,r as o,g as h,c as s,a as i,h as m,w as _,v as w,F as d,b as c,i as I,t as k,f as x,o as l}from"./index-C6GwWu9o.js";import{a as p}from"./http-api-DJRiRKCo.js";import{_ as v}from"./Image.vue_vue_type_script_setup_true_lang-BrrsEuod.js";const S=["value"],B={key:0,style:{"margin-top":"20px"}},L={key:1,style:{"margin-top":"20px"}},V={style:{display:"flex","flex-wrap":"wrap",gap:"10px"}},F=y({__name:"Similar",setup(C){const r=o(null),u=o([]),n=o([]),g=async()=>{try{u.value=await p.getImageList()}catch(t){console.error("Error fetching image list:",t)}},f=async t=>{try{n.value=await p.getSimilarImages(t)}catch(e){console.error("Error fetching similar images:",e),n.value=[]}};return h(r,async t=>{t!==null?await f(t):n.value=[]}),g(),(t,e)=>(l(),s("div",null,[e[3]||(e[3]=i("h3",null,"Choose an image",-1)),i("div",null,[_(i("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>r.value=a)},[(l(!0),s(d,null,c(u.value,a=>(l(),s("option",{value:a.id,key:a.id},k(a.name),9,S))),128))],512),[[w,r.value]])]),r.value!==null?(l(),s("div",B,[e[1]||(e[1]=i("h4",null,"Selected Image",-1)),I(v,{id:r.value},null,8,["id"])])):m("",!0),n.value.length>0?(l(),s("div",L,[e[2]||(e[2]=i("h4",null,"Similar Images",-1)),i("div",V,[(l(!0),s(d,null,c(n.value,a=>(l(),x(v,{key:a.id,id:a.id},null,8,["id"]))),128))])])):m("",!0)]))}});export{F as default};
